<script setup lang="ts">
import getWindowSize from "@/utils/width";
const heightToTop = ref(0);
const isPc = ref(true);

onMounted(() => {
  let { widthState, width } = getWindowSize();
  window.addEventListener("resize", () => {
    let { widthState, width } = getWindowSize();
    isPc.value = widthState;
  });
  isPc.value = widthState;
  window.addEventListener("scroll", () => {
    // 获取距离页面顶部的距离
    heightToTop.value = document.documentElement.scrollTop;
    if (heightToTop.value > 200) {
      document.querySelector(".to-form")?.classList.add("to-form-show");
    } else {
      document.querySelector(".to-form")?.classList.remove("to-form-show");
    }
  });
});

const toForm = () => {
  // 滚动到指定元素 #public-form
  document.documentElement.scrollTo({
    top: (document.querySelector("#public-form") as HTMLElement)?.offsetTop,
    behavior: "smooth",
  });
};
</script>

<template>
  <footer>
    <PublicV2FooterOneFooter />
    <PublicV2FooterTwoFooter />
    <div v-if="isPc">
      <div class="to-form to-form-show" @click="toForm()">
        <svg xmlns="http://www.w3.org/2000/svg" width="34" height="35" viewBox="0 0 34 35" fill="none">
          <path
            d="M0.259432 19.0405C0.259432 15.5167 0.257986 11.9928 0.259432 8.46899C0.260878 5.39002 2.54038 3.07787 5.58068 3.06763C6.13464 3.06616 6.69005 3.06031 7.24402 3.06909C7.46965 3.07348 7.55499 2.99592 7.57813 2.75739C7.73579 1.0584 8.87409 0.0062194 10.5519 0.00329262C13.7571 -0.00109754 16.9623 -0.00109754 20.1689 0.00329262C21.77 0.0062194 22.8939 0.99108 23.0993 2.59495C23.1455 2.9608 23.2642 3.0808 23.6344 3.07641C24.4155 3.06909 25.1994 3.01495 25.9805 3.12909C28.3149 3.46713 30.1489 5.40027 30.4006 7.7812C30.4932 8.65777 30.4411 9.53434 30.4498 10.4109C30.4614 11.6914 30.4599 12.9718 30.4498 14.2508C30.444 14.9562 29.9667 15.4655 29.352 15.4625C28.7373 15.4596 28.2817 14.9518 28.26 14.2435C28.2556 14.1221 28.26 13.9991 28.26 13.8777C28.26 12.0367 28.2585 10.1958 28.26 8.35485C28.26 7.42413 27.9201 6.64561 27.2345 6.0266C26.7326 5.57295 26.1453 5.30954 25.467 5.29344C24.8769 5.28027 24.2867 5.2832 23.6952 5.28173C23.1672 5.28173 23.1672 5.28173 23.0993 5.81294C22.9358 7.07438 22.0767 8.01534 20.8487 8.25973C20.6375 8.30217 20.4177 8.30363 20.2022 8.30363C16.9724 8.30656 13.7426 8.30656 10.5128 8.30363C8.90157 8.30363 7.76471 7.28804 7.59115 5.66807C7.55933 5.371 7.46531 5.26564 7.17459 5.27442C6.53673 5.29198 5.89743 5.26856 5.25958 5.29198C3.84935 5.3432 2.62716 6.5183 2.46951 7.93925C2.42756 8.31534 2.41165 8.69143 2.41165 9.07045C2.41165 15.8372 2.41165 22.6039 2.4131 29.3706C2.4131 30.2866 2.60257 31.1369 3.26935 31.8173C3.87394 32.4349 4.5899 32.7788 5.46063 32.7773C8.00337 32.7744 10.5461 32.7773 13.0888 32.7773C13.3073 32.7773 13.5228 32.7846 13.7325 32.8549C14.1736 33.0012 14.4745 33.4095 14.4817 33.8705C14.4904 34.3315 14.2026 34.7485 13.7658 34.9124C13.5474 34.9944 13.3188 35.0017 13.0888 35.0017C10.6184 35.0002 8.148 35.0017 5.67758 35.0002C2.85135 34.9973 0.722274 33.1549 0.295591 30.3379C0.257986 30.0862 0.265217 29.8271 0.265217 29.5711C0.263771 26.0589 0.265217 22.5483 0.265217 19.0361L0.259432 19.0405ZM15.3481 2.22325C13.7571 2.22325 12.1675 2.22325 10.5765 2.22325C9.93573 2.22325 9.7694 2.39447 9.76795 3.05153C9.76506 3.78322 9.76506 4.51492 9.76795 5.24661C9.7694 5.92562 9.97479 6.1305 10.6589 6.13342C11.5268 6.13635 12.3946 6.13342 13.261 6.13342C15.539 6.13342 17.8156 6.13489 20.0937 6.13196C20.7243 6.13196 20.9485 5.90367 20.9499 5.28027C20.9528 4.53687 20.9528 3.79347 20.9499 3.0486C20.947 2.4252 20.746 2.22325 20.1212 2.22325C18.5301 2.22033 16.9406 2.22325 15.3495 2.22325H15.3481Z"
            fill="#00A6CE" />
          <path
            d="M30.0969 17.9844C31.5071 17.9815 32.8334 18.8244 33.4192 20.3053C34.0267 21.8433 33.7837 23.2906 32.6382 24.4687C29.5704 27.6252 26.4607 30.7378 23.3668 33.8695C23.0298 34.2104 22.6162 34.3948 22.1548 34.4738C21.1582 34.6451 20.1602 34.8163 19.1622 34.9743C17.9357 35.1675 16.7193 34.007 16.8813 32.7602C17.0259 31.6378 17.2313 30.5227 17.4251 29.4076C17.4974 28.9861 17.7317 28.6422 18.0268 28.3437C21.0772 25.256 24.1248 22.1653 27.1839 19.0863C27.9244 18.3414 28.8371 17.9683 30.0998 17.9858L30.0969 17.9844ZM19.2403 32.829C20.0879 32.6519 20.9384 32.4792 21.7831 32.2905C21.8901 32.2671 21.9884 32.1646 22.0709 32.0797C24.1161 30.0134 26.1569 27.9413 28.205 25.8779C28.3844 25.6979 28.3829 25.5808 28.2021 25.4023C27.5715 24.7818 26.9481 24.1555 26.3377 23.5145C26.1425 23.3097 26.0311 23.3389 25.8474 23.5262C23.8181 25.5911 21.7802 27.6486 19.7451 29.709C19.6511 29.8042 19.5397 29.8934 19.5166 30.031C19.3676 30.9061 19.2259 31.7827 19.0812 32.6592C19.0595 32.7909 19.1101 32.8436 19.2418 32.8305L19.2403 32.829ZM29.8163 20.1429C29.5863 20.1239 29.3115 20.2058 29.0627 20.3697C28.5521 20.7077 28.1833 21.1994 27.7451 21.6165C27.6351 21.7219 27.693 21.8038 27.7812 21.8916C28.4494 22.5604 29.1191 23.2277 29.7801 23.9023C29.932 24.0574 30.0376 24.0223 30.1692 23.8833C30.4787 23.5584 30.8085 23.254 31.1079 22.9189C31.5823 22.3877 31.6821 21.7643 31.403 21.1175C31.1224 20.4678 30.6046 20.1297 29.8163 20.1414V20.1429Z"
            fill="#00A6CE" />
          <path
            d="M14.1028 15.6083C12.3685 15.6083 10.6358 15.6083 8.90157 15.6083C8.79309 15.6083 8.68461 15.6112 8.57613 15.6054C7.93394 15.5688 7.44651 15.0947 7.44217 14.5049C7.43783 13.9181 7.92092 13.4366 8.56311 13.3913C8.647 13.3854 8.73089 13.3869 8.81623 13.3869C12.3555 13.3869 15.8948 13.3869 19.4356 13.3869C19.7408 13.3869 20.0373 13.4118 20.2991 13.5947C20.6476 13.8391 20.8039 14.183 20.7662 14.6C20.7286 15.02 20.5117 15.3273 20.1212 15.4971C19.8941 15.5951 19.6569 15.6112 19.4139 15.6112C17.6435 15.6098 15.8746 15.6112 14.1042 15.6112L14.1028 15.6083Z"
            fill="#00A6CE" />
          <path
            d="M11.0481 19.383C11.8783 19.383 12.7086 19.3713 13.5388 19.3874C14.113 19.3977 14.5484 19.7942 14.6192 20.324C14.6901 20.8552 14.3762 21.3732 13.8743 21.5137C13.6805 21.5679 13.4708 21.5913 13.2683 21.5927C11.7771 21.5986 10.2844 21.5971 8.79319 21.5957C8.69773 21.5957 8.60083 21.5869 8.50536 21.5737C7.85015 21.483 7.41624 21.0235 7.44227 20.4528C7.47265 19.8191 7.94127 19.3903 8.62975 19.3845C9.43539 19.3786 10.2425 19.383 11.0481 19.383Z"
            fill="#00A6CE" />
        </svg>
      </div>
      <el-backtop :bottom="100" :right="382">
        <div>
          <svg xmlns="http://www.w3.org/2000/svg" width="25" height="14" viewBox="0 0 25 14" fill="none">
            <path d="M1 13L12.5 1L24 13" stroke="#00A6CE" stroke-linecap="round" />
          </svg>
          <svg width="32" height="14" viewBox="0 0 32 14" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path
              d="M2.688 4.44H0.28C0.28 3.684 0.28 2.942 0.28 2.2H7.56C7.56 2.942 7.56 3.684 7.56 4.44H5.166V12C4.34 12 3.514 12 2.688 12V4.44ZM19.6773 7.114C19.6773 13.904 9.62533 13.904 9.62533 7.114C9.62533 0.337999 19.6773 0.337999 19.6773 7.114ZM12.2013 7.114C12.2013 10.67 17.1153 10.67 17.1153 7.114C17.1153 3.586 12.2013 3.586 12.2013 7.114ZM25.1873 12C24.3473 12 23.5073 12 22.6813 12C22.6813 8.738 22.6813 5.476 22.6813 2.2C24.0953 2.2 25.5513 2.2 26.9933 2.2C31.6833 2.214 31.6833 9.494 26.9933 9.494H25.1873V12ZM26.9793 7.24C28.3513 7.24 28.4353 4.454 26.9793 4.44C26.3913 4.426 25.7613 4.44 25.1873 4.44C25.1873 5.238 25.1873 6.442 25.1873 7.24H26.9793Z"
              fill="#00A6CE" />
          </svg>
        </div>
      </el-backtop>
    </div>
  </footer>
</template>


<style lang="scss" scoped>
@media screen and (min-width: 768px) {
  footer {
    padding: 70px clamp(160px, 12.833vw, 400px);
    background: rgba(0, 166, 206, 0.1);
    border-radius: 50px 50px 0 0;
  }

  :deep(.el-backtop) {
    display: flex;
    flex-direction: column;
    gap: 20px 0;
    z-index: 20;
    width: 66px;
    height: 66px;
    border-radius: 0;
    background: transparent;
    right: 100px !important;
    border: 1px solid #00a6ce;
    transition: all 0.3s ease;

    &>div {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 5px 0;
    }

    svg {
      path {
        stroke: #00a6ce;
      }
    }
  }

  :deep(.el-backtop:hover) {
    background: #00a6ce;
    transition: all 0.3s;

    svg {
      path {
        stroke: #fff;
      }
    }

    svg:nth-child(2) {
      path {
        fill: #fff;
      }
    }
  }

  .to-form {
    width: 66px;
    height: 66px;
    border: 1px solid #00a6ce;
    display: flex;
    justify-content: center;
    align-items: center;
    min-width: 66px;
    min-height: 66px;
    cursor: pointer;
    transition: all 0.3s ease;

    svg {
      path {
        fill: #00a6ce;
        stroke: #00a6ce;
      }
    }
  }

  .to-form:hover {
    transition: all 0.3s;
    background: #00a6ce;

    svg {
      path {
        fill: #fff;
        stroke: #fff;
      }
    }
  }

  .to-form-show {
    position: fixed;
    bottom: 167px;
    right: 100px;
    z-index: 20;
  }
}

@media screen and (max-width: 767px) {
  footer {
    width: 100vw;
    box-sizing: border-box;
    padding: 30px 20px 90px 20px;
    background: rgba(0, 166, 206, 0.1);
  }
}
</style>